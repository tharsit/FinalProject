<%@ Page Language="C#" AutoEventWireup="true" CodeBehind="BookDelete.aspx.cs" Inherits="FinalWebProject.Library.BookDelete" %>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head id="Head1" runat="server">
    <title></title>
</head>
<body>
    <form id="form1" runat="server">
    <div style="text-align: center;">
        <asp:Label ID="Label11" runat="server" ForeColor="#0066FF" Text="M.C.H Book Shop"
            Style="font-size: 50pt;"></asp:Label>
        <br />
        <br />
    </div>
    <div>
        <table style="margin-left: auto; margin-right: auto;">
            <tr>
                <td>
                    <asp:TextBox ID="txtSearch" runat="server" Height="28px" Width="500px"></asp:TextBox>
                </td>
                <td>
                    <asp:Button ID="btnSearch" runat="server" Text="Search" OnClick="btnSearch_Click" />
                </td>
            </tr>
        </table>
    </div>
    <div>
        <asp:GridView ID="BookTable" runat="server" AutoGenerateColumns="False" AutoGenerateDeleteButton="True"
            DataKeyNames="Book_ID" OnRowDeleting="BookTable_RowDeleting" >
            <Columns>
                <asp:BoundField DataField="Book_ID" HeaderText="Book_ID" InsertVisible="False" ReadOnly="True"
                    SortExpression="Book_ID" />
                <asp:BoundField DataField="BookName" HeaderText="BookName" SortExpression="BookName" />
                <asp:BoundField DataField="Category" HeaderText="Category" SortExpression="Category" />
                <asp:BoundField DataField="Author" HeaderText="Author" SortExpression="Author" />
                <asp:BoundField DataField="Price" HeaderText="Price" SortExpression="Price" />
            </Columns>
        </asp:GridView>
        <asp:SqlDataSource ID="sqlBookTable" runat="server" ConnectionString="<%$ ConnectionStrings:booktable %>"
            DeleteCommand="DELETE FROM [Booktable] WHERE Book_ID = @Book_ID" SelectCommand="SELECT * FROM [Booktable]">
            <DeleteParameters>
                <asp:Parameter Name="Book_ID" Type="Int32" />
            </DeleteParameters>
        </asp:SqlDataSource>
    </div>
    <asp:Label ID="lblMessage" runat="server"></asp:Label>
    </form>
</body>
</html>
